(()=>{var e={};e.id=225,e.ids=[225],e.modules={1529:(e,t,r)=>{"use strict";r.d(t,{ScriptsView:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call ScriptsView() from the server but ScriptsView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\ui\\scripts\\ScriptsView.tsx","ScriptsView")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16320:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(65239),n=r(48088),a=r(88170),i=r.n(a),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["scripts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94390)),"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\scripts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\scripts\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/scripts/page",pathname:"/scripts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},17149:(e,t,r)=>{Promise.resolve().then(r.bind(r,68258)),Promise.resolve().then(r.bind(r,37122))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},27949:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var s=r(53388),n=r(75495),a=r(76228),i=r(73437);function o(e){let t=new Date(e);return(0,s.c)(t)?"Today":(0,n.P)(t)?"Yesterday":(0,a.e)(t)?"Tomorrow":(0,i.GP)(t,"MMM d")}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37122:(e,t,r)=>{"use strict";r.d(t,{ScriptsView:()=>ei});var s=r(60687),n=r(43210),a=r(52435),i=r(62),o=r(22857),l=r(40228),c=r(10022),d=r(64398),u=r(27949),m=r(52648);function p({scripts:e,onScriptSelect:t,selectedScript:r}){let n=e=>{switch(e){case"draft":return"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400";case"review":return"bg-blue-500/20 text-blue-700 dark:text-blue-400";case"final":return"bg-green-500/20 text-green-700 dark:text-green-400";default:return"bg-gray-500/20 text-gray-700 dark:text-gray-400"}};return(0,s.jsx)(i.F,{className:"h-[calc(100vh-300px)]",children:(0,s.jsx)("div",{className:"space-y-2 pr-4",children:e.map(e=>(0,s.jsxs)("div",{className:(0,o.cn)("border rounded-lg p-4 cursor-pointer transition-colors",r?.id===e.id?"bg-accent":"hover:bg-accent/50"),onClick:()=>t(e),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 p-2 rounded-lg",children:e.eventId?(0,s.jsx)(l.A,{className:"h-4 w-4 text-primary"}):(0,s.jsx)(c.A,{className:"h-4 w-4 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium line-clamp-1",children:e.title}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Updated ",(0,u.Y)(e.updatedAt)]})]})]}),e.aiGenerated&&(0,s.jsx)(d.A,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,s.jsx)(m.E,{variant:"secondary",className:(0,o.cn)("text-xs",n(e.status)),children:e.status}),e.category&&(0,s.jsx)(m.E,{variant:"outline",className:"text-xs",children:e.category})]})]},e.id))})})}var x=r(13785),h=r(22516),v=r(67628),f=r(64234),j=r(48730),g=r(90131),y=r(18962);let b=(0,y.A)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),w=(0,y.A)("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]);function N(){}N.prototype={diff:function(e,t){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=s.callback;"function"==typeof s&&(n=s,s={}),this.options=s;var a=this;function i(e){return n?(setTimeout(function(){n(void 0,e)},0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var o=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,c=1,d=o+l;s.maxEditLength&&(d=Math.min(d,s.maxEditLength));var u=null!=(r=s.timeout)?r:1/0,m=Date.now()+u,p=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(p[0],t,e,0);if(p[0].oldPos+1>=l&&x+1>=o)return i([{value:this.join(t),count:t.length}]);var h=-1/0,v=1/0;function f(){for(var r=Math.max(h,-c);r<=Math.min(v,c);r+=2){var s=void 0,n=p[r-1],d=p[r+1];n&&(p[r-1]=void 0);var u=!1;if(d){var m=d.oldPos-r;u=d&&0<=m&&m<o}var f=n&&n.oldPos+1<l;if(!u&&!f){p[r]=void 0;continue}if(s=!f||u&&n.oldPos+1<d.oldPos?a.addToPath(d,!0,void 0,0):a.addToPath(n,void 0,!0,1),x=a.extractCommon(s,t,e,r),s.oldPos+1>=l&&x+1>=o)return i(function(e,t,r,s,n){for(var a,i=[];t;)i.push(t),a=t.previousComponent,delete t.previousComponent,t=a;i.reverse();for(var o=0,l=i.length,c=0,d=0;o<l;o++){var u=i[o];if(u.removed){if(u.value=e.join(s.slice(d,d+u.count)),d+=u.count,o&&i[o-1].added){var m=i[o-1];i[o-1]=i[o],i[o]=m}}else{if(!u.added&&n){var p=r.slice(c,c+u.count);p=p.map(function(e,t){var r=s[d+t];return r.length>e.length?r:e}),u.value=e.join(p)}else u.value=e.join(r.slice(c,c+u.count));c+=u.count,u.added||(d+=u.count)}}var x=i[l-1];return l>1&&"string"==typeof x.value&&(x.added||x.removed)&&e.equals("",x.value)&&(i[l-2].value+=x.value,i.pop()),i}(a,s.lastComponent,t,e,a.useLongestToken));p[r]=s,s.oldPos+1>=l&&(v=Math.min(v,r-1)),x+1>=o&&(h=Math.max(h,r+1))}c++}if(n)!function e(){setTimeout(function(){if(c>d||Date.now()>m)return n();f()||e()},0)}();else for(;c<=d&&Date.now()<=m;){var j=f();if(j)return j}},addToPath:function(e,t,r,s){var n=e.lastComponent;return n&&n.added===t&&n.removed===r?{oldPos:e.oldPos+s,lastComponent:{count:n.count+1,added:t,removed:r,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:t,removed:r,previousComponent:n}}},extractCommon:function(e,t,r,s){for(var n=t.length,a=r.length,i=e.oldPos,o=i-s,l=0;o+1<n&&i+1<a&&this.equals(t[o+1],r[i+1]);)o++,i++,l++;return l&&(e.lastComponent={count:l,previousComponent:e.lastComponent}),e.oldPos=i,o},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}},new N;var C=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,S=/\S/,P=new N;P.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!S.test(e)&&!S.test(t)},P.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&C.test(t[r])&&C.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var k=new N;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}k.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var n=r[s];s%2&&!this.options.newlineIsToken?t[t.length-1]+=n:(this.options.ignoreWhitespace&&(n=n.trim()),t.push(n))}return t},new N().tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},new N().tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var I=Object.prototype.toString,M=new N;M.useLongestToken=!0,M.tokenize=k.tokenize,M.castInput=function(e){var t=this.options,r=t.undefinedReplacement,s=t.stringifyReplacer,n=void 0===s?function(e,t){return void 0===t?r:t}:s;return"string"==typeof e?e:JSON.stringify(function e(t,r,s,n,a){for(r=r||[],s=s||[],n&&(t=n(a,t)),i=0;i<r.length;i+=1)if(r[i]===t)return s[i];if("[object Array]"===I.call(t)){for(r.push(t),o=Array(t.length),s.push(o),i=0;i<t.length;i+=1)o[i]=e(t[i],r,s,n,a);return r.pop(),s.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),"object"===A(t)&&null!==t){r.push(t),o={},s.push(o);var i,o,l,c=[];for(l in t)t.hasOwnProperty(l)&&c.push(l);for(c.sort(),i=0;i<c.length;i+=1)o[l=c[i]]=e(t[l],r,s,n,l);r.pop(),s.pop()}else o=t;return o}(e,null,null,n),n,"  ")},M.equals=function(e,t){return N.prototype.equals.call(M,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var G=new N;G.tokenize=function(e){return e.slice()},G.join=G.removeEmpty=function(e){return e};function F(e){return Array.isArray(e)?e.map(F).reverse():q(q({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,linedelimiters:e.linedelimiters,lines:e.lines.map(function(e){return e.startsWith("-")?"+".concat(e.slice(1)):e.startsWith("+")?"-".concat(e.slice(1)):e})}})})}function V({script:e,onEdit:t}){let r=(e,t)=>{var r,n;if(!t)return null;let a=(r=t.content,n=e.content,k.diff(r,n,void 0));return(0,s.jsx)("div",{className:"font-mono text-sm whitespace-pre-wrap",children:a.map((e,t)=>e.added?(0,s.jsx)("div",{className:"bg-green-500/20 text-green-700",children:e.value},t):e.removed?(0,s.jsx)("div",{className:"bg-red-500/20 text-red-700",children:e.value},t):(0,s.jsx)("div",{children:e.value},t))})};return(0,s.jsxs)("div",{className:"border rounded-lg",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:e.title}),e.aiGenerated&&(0,s.jsx)(d.A,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Updated ",(0,u.Y)(e.updatedAt)]})]}),e.eventId&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Linked to event"})]})]})]}),(0,s.jsxs)(x.$,{onClick:()=>t(e),children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Edit Script"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,s.jsx)(m.E,{variant:"secondary",className:"capitalize",children:e.status}),(0,s.jsx)(m.E,{variant:"outline",children:e.category}),e.tags.map(e=>(0,s.jsx)(m.E,{variant:"outline",children:e},e))]}),e.assignees&&e.assignees.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Assignees:"}),(0,s.jsx)("div",{className:"flex -space-x-2",children:e.assignees.map(e=>(0,s.jsxs)(f.eu,{className:"h-8 w-8 border-2 border-background",children:[(0,s.jsx)(f.BK,{src:e.avatarUrl}),(0,s.jsx)(f.q5,{children:e.name.charAt(0).toUpperCase()})]},e.id))})]})]}),(0,s.jsx)(h.w,{}),(0,s.jsxs)(v.tU,{defaultValue:"content",className:"p-6",children:[(0,s.jsxs)(v.j7,{children:[(0,s.jsxs)(v.Xi,{value:"content",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Content"]}),(0,s.jsxs)(v.Xi,{value:"versions",children:[(0,s.jsx)(b,{className:"h-4 w-4 mr-2"}),"Versions"]}),(0,s.jsxs)(v.Xi,{value:"metadata",children:[(0,s.jsx)(w,{className:"h-4 w-4 mr-2"}),"Metadata"]})]}),(0,s.jsx)(v.av,{value:"content",className:"mt-4",children:(0,s.jsx)(i.F,{className:"h-[400px] rounded-md border p-4",children:(0,s.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.content})})}),(0,s.jsx)(v.av,{value:"versions",className:"mt-4",children:(0,s.jsx)(i.F,{className:"h-[400px]",children:(0,s.jsx)("div",{className:"space-y-4",children:e.versions.map((t,n)=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.eu,{className:"h-6 w-6",children:(0,s.jsx)(f.q5,{children:t.createdBy.name.charAt(0).toUpperCase()})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:t.createdBy.name}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,u.Y)(t.createdAt)})]}),(0,s.jsxs)(m.E,{variant:"outline",children:["v",e.versions.length-n]})]}),t.comment&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:t.comment}),(0,s.jsx)("div",{className:"text-sm",children:r(t,e.versions[n+1])})]},t.id))})})}),(0,s.jsx)(v.av,{value:"metadata",className:"mt-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[e.seoKeywords&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"SEO Keywords"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.seoKeywords.map(e=>(0,s.jsx)(m.E,{variant:"secondary",children:e},e))})]}),e.platforms&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Target Platforms"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.platforms.map(e=>(0,s.jsx)(m.E,{variant:"outline",children:e},e))})]})]})})]})]})}var D=r(95269),R=r(99270),$=r(11860);function T({scripts:e,onFilter:t}){let[r,a]=(0,n.useState)(""),[i,o]=(0,n.useState)("all"),[l,c]=(0,n.useState)([]),d=[...new Set(e.flatMap(e=>e.tags))],u=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(R.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(D.p,{type:"search",placeholder:"Search scripts...",className:"pl-8",value:r,onChange:e=>a(e.target.value)})]}),(0,s.jsxs)(x.$,{variant:"outline",size:"sm",className:"h-10",onClick:()=>{a(""),o("all"),c([])},children:[(0,s.jsx)($.A,{className:"mr-2 h-4 w-4"}),"Clear filters"]})]}),(0,s.jsx)(v.tU,{value:i,onValueChange:o,children:(0,s.jsxs)(v.j7,{className:"w-full justify-start overflow-auto",children:[(0,s.jsx)(v.Xi,{value:"all",children:"All"}),(0,s.jsx)(v.Xi,{value:"draft",children:"Draft"}),(0,s.jsx)(v.Xi,{value:"review",children:"Review"}),(0,s.jsx)(v.Xi,{value:"final",children:"Final"})]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>(0,s.jsx)(m.E,{variant:l.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>u(e),children:e},e))})]})}var B=r(89047),L=r(4785),_=r(63442),U=r(27605),J=r(9275),K=r(45551),H=r(67427),X=r(84361),Y=r(7566),W=r(72730),Z=r(56085),Q=r(85096),ee=r(13341),et=r(19489);let er=J.z.object({title:J.z.string().min(1,"El t\xc3\xadtulo es requerido"),content:J.z.string().min(1,"El contenido es requerido"),status:J.z.enum(["draft","review","final"]),category:J.z.string().min(1,"La categor\xc3\xada es requerida"),tags:J.z.string(),platforms:J.z.string(),seoKeywords:J.z.string()});function es({script:e,onSave:t}){let{toast:r}=(0,Y.dj)(),[a,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=(0,U.mN)({resolver:(0,_.u)(er),defaultValues:{title:"",content:"",status:"draft",category:"",tags:"",platforms:"",seoKeywords:""}}),u=async()=>{let e=d.getValues("title"),t=d.getValues("category"),s=d.getValues("description");if(!e||!t)return void r({title:"Campos requeridos",description:"Por favor, ingresa el t\xc3\xadtulo y la categor\xc3\xada antes de generar el guion",variant:"destructive"});if(!localStorage.getItem("aiSettings"))return void c(!0);i(!0);try{let n=`Genera un guion detallado para ${t} con el t\xc3\xadtulo "${e}"${s?` y la siguiente descripci\xc3\xb3n: ${s}`:""}. El guion debe ser profesional, creativo y estar bien estructurado.`,a=await (0,Q.n)(n);d.setValue("content",a),r({title:"Guion generado",description:"Se ha generado un nuevo guion con IA"})}catch(e){r({title:"Error",description:e.message||"No se pudo generar el guion. Por favor, verifica tu configuraci\xc3\xb3n de IA.",variant:"destructive"})}finally{i(!1)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(H.lV,{...d,children:(0,s.jsxs)("form",{onSubmit:d.handleSubmit(r=>{t({id:e?.id||(0,o.v4)(),title:r.title,content:r.content,status:r.status,category:r.category,tags:r.tags.split(",").map(e=>e.trim()).filter(Boolean),platforms:r.platforms?r.platforms.split(",").map(e=>e.trim()).filter(Boolean):void 0,seoKeywords:r.seoKeywords?r.seoKeywords.split(",").map(e=>e.trim()).filter(Boolean):void 0,createdAt:e?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),versions:[{id:(0,o.v4)(),content:r.content,createdAt:new Date().toISOString(),createdBy:{id:"1",name:"Demo User"},comment:e?"Actualizaci\xc3\xb3n del guion":"Versi\xc3\xb3n inicial"},...e?.versions||[]],aiGenerated:e?.aiGenerated||!1})}),className:"space-y-4",children:[(0,s.jsx)(H.zB,{control:d.control,name:"title",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"T\xc3\xadtulo"}),(0,s.jsx)(H.MJ,{children:(0,s.jsx)(D.p,{placeholder:"T\xc3\xadtulo del guion",...e})}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(H.zB,{control:d.control,name:"status",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Estado"}),(0,s.jsxs)(X.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(H.MJ,{children:(0,s.jsx)(X.bq,{children:(0,s.jsx)(X.yv,{placeholder:"Seleccionar estado"})})}),(0,s.jsxs)(X.gC,{children:[(0,s.jsx)(X.eb,{value:"draft",children:"Borrador"}),(0,s.jsx)(X.eb,{value:"review",children:"Revisi\xc3\xb3n"}),(0,s.jsx)(X.eb,{value:"final",children:"Final"})]})]}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsx)(H.zB,{control:d.control,name:"category",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Categor\xc3\xada"}),(0,s.jsxs)(X.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(H.MJ,{children:(0,s.jsx)(X.bq,{children:(0,s.jsx)(X.yv,{placeholder:"Seleccionar categor\xc3\xada"})})}),(0,s.jsxs)(X.gC,{children:[(0,s.jsx)(X.eb,{value:"Marketing",children:"Marketing"}),(0,s.jsx)(X.eb,{value:"Education",children:"Educaci\xc3\xb3n"}),(0,s.jsx)(X.eb,{value:"Entertainment",children:"Entretenimiento"}),(0,s.jsx)(X.eb,{value:"Social Media",children:"Redes Sociales"})]})]}),(0,s.jsx)(H.C5,{})]})})]}),(0,s.jsx)(H.zB,{control:d.control,name:"content",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Contenido"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.$,{type:"button",variant:"outline",className:"w-full",onClick:u,disabled:a,children:[a?(0,s.jsx)(W.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),a?"Generando...":"Generar con IA"]}),(0,s.jsx)(H.MJ,{children:(0,s.jsx)(K.T,{placeholder:"Escribe el contenido del guion aqu\xc3\xad...",className:"min-h-[400px] font-mono",...e})})]}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsx)(H.zB,{control:d.control,name:"tags",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Etiquetas (separadas por comas)"}),(0,s.jsx)(H.MJ,{children:(0,s.jsx)(D.p,{placeholder:"video, tutorial, producto",...e})}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsx)(H.zB,{control:d.control,name:"platforms",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Plataformas (separadas por comas)"}),(0,s.jsx)(H.MJ,{children:(0,s.jsx)(D.p,{placeholder:"YouTube, Instagram, TikTok",...e})}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsx)(H.zB,{control:d.control,name:"seoKeywords",render:({field:e})=>(0,s.jsxs)(H.eI,{children:[(0,s.jsx)(H.lR,{children:"Palabras clave SEO (separadas por comas)"}),(0,s.jsx)(H.MJ,{children:(0,s.jsx)(D.p,{placeholder:"tutorial, c\xc3\xb3mo hacer, educaci\xc3\xb3n",...e})}),(0,s.jsx)(H.C5,{})]})}),(0,s.jsx)(x.$,{type:"submit",className:"w-full",children:e?"Actualizar Guion":"Crear Guion"})]})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(ee.A,{})}),(0,s.jsx)(et.g,{open:l,onOpenChange:c,onContinue:u})]})}var en=r(95193);function ea(){let[e,t]=(0,n.useState)(a.j),[r,i]=(0,n.useState)(a.j),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),{toast:u}=(0,Y.dj)();(0,en.jv)();let m=(0,n.useCallback)(e=>{i(e)},[]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Biblioteca de Guiones"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Gestiona y organiza tus guiones de video y contenido."})]}),(0,s.jsxs)(x.$,{onClick:()=>{l(null),d(!0)},className:"gap-2",children:[(0,s.jsx)(B.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Nuevo Guion"})]})]}),(0,s.jsx)(T,{scripts:e,onFilter:m}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(p,{scripts:r,onScriptSelect:e=>{l(e)},selectedScript:o})}),(0,s.jsx)("div",{className:"col-span-1 lg:col-span-2",children:o?(0,s.jsx)(V,{script:o,onEdit:e=>{l(e),d(!0)}}):(0,s.jsx)("div",{className:"border rounded-lg p-8 text-center text-muted-foreground",children:"Selecciona un guion para ver los detalles"})})]}),(0,s.jsx)(L.lG,{open:c,onOpenChange:d,children:(0,s.jsx)(L.Cf,{className:"sm:max-w-[800px]",children:(0,s.jsx)(es,{script:o,onSave:s=>{o?(t(e.map(e=>e.id===s.id?s:e)),i(r.map(e=>e.id===s.id?s:e))):(t([...e,s]),i([...r,s])),d(!1),l(null),u({title:o?"Guion actualizado":"Guion creado",description:`Se ha ${o?"actualizado":"creado"} exitosamente "${s.title}"`})}})})})]})}function ei(){return(0,en.jv)(),(0,s.jsx)(ea,{})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67427:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>v,Rr:()=>f,eI:()=>x,lR:()=>h,lV:()=>c,zB:()=>u});var s=r(60687),n=r(43210),a=r(8730),i=r(27605),o=r(22857),l=r(56167);let c=i.Op,d=n.createContext({}),u=({...e})=>(0,s.jsx)(d.Provider,{value:{name:e.name},children:(0,s.jsx)(i.xI,{...e})}),m=()=>{let e=n.useContext(d),t=n.useContext(p),{getFieldState:r,formState:s}=(0,i.xW)(),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},p=n.createContext({}),x=n.forwardRef(({className:e,...t},r)=>{let a=n.useId();return(0,s.jsx)(p.Provider,{value:{id:a},children:(0,s.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let h=n.forwardRef(({className:e,...t},r)=>{let{error:n,formItemId:a}=m();return(0,s.jsx)(l.J,{ref:r,className:(0,o.cn)(n&&"text-destructive",e),htmlFor:a,...t})});h.displayName="FormLabel";let v=n.forwardRef(({...e},t)=>{let{error:r,formItemId:n,formDescriptionId:i,formMessageId:o}=m();return(0,s.jsx)(a.DX,{ref:t,id:n,"aria-describedby":r?`${i} ${o}`:`${i}`,"aria-invalid":!!r,...e})});v.displayName="FormControl";let f=n.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:r,id:n,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",e),...t})});f.displayName="FormDescription";let j=n.forwardRef(({className:e,children:t,...r},n)=>{let{error:a,formMessageId:i}=m(),l=a?String(a?.message):t;return l?(0,s.jsx)("p",{ref:n,id:i,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",e),...r,children:l}):null});j.displayName="FormMessage"},73181:(e,t,r)=>{Promise.resolve().then(r.bind(r,82762)),Promise.resolve().then(r.bind(r,1529))},74075:e=>{"use strict";e.exports=require("zlib")},75495:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var s=r(82592),n=r(43559),a=r(25928);function i(e){return(0,n.r)(e,(0,a.e)((0,s.A)(e),1))}},76228:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var s=r(90327),n=r(82592),a=r(43559);function i(e){return(0,a.r)(e,(0,s.f)((0,n.A)(e),1))}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},89047:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(18962).A)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},90131:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(18962).A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},91645:e=>{"use strict";e.exports=require("net")},94390:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(37413),n=r(1529),a=r(82762);function i(){return(0,s.jsx)(a.default,{children:(0,s.jsx)(n.ScriptsView,{})})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[260,155,560,247,212,125,819,25,711,745,314],()=>r(16320));module.exports=s})();