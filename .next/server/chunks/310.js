exports.id=310,exports.ids=[310],exports.modules={638:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>i});var a=r(687),s=r(3210);let o=(0,s.createContext)({theme:"system",setTheme:()=>null});function i({children:e,defaultTheme:t="system"}){let[r,i]=(0,s.useState)(()=>t);return(0,a.jsx)(o.Provider,{value:{theme:r,setTheme:e=>{i(e)}},children:e})}},1424:(e,t,r)=>{Promise.resolve().then(r.bind(r,3772)),Promise.resolve().then(r.bind(r,638))},2704:()=>{},3280:(e,t,r)=>{Promise.resolve().then(r.bind(r,3918)),Promise.resolve().then(r.bind(r,8584))},3603:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},3772:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,AuthProvider:()=>i});var a=r(687),s=r(3210);!function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}();let o=(0,s.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0),[l,u]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),m=(0,s.useCallback)(async e=>{try{let t;n(!0);let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).from("users").select("*").eq("id",e.id).single();if(s&&"PGRST116"!==s.code)return;if(a)t=a;else{let r={id:e.id,email:e.email,full_name:e.user_metadata?.full_name||e.email.split("@")[0],subscription_tier:"free",subscription_status:"free",subscription_end_date:null},{data:a,error:s}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).from("users").insert(r).select().single();if(s)return;t=a}let o={id:t.id,email:t.email,name:t.full_name,subscriptionType:t.subscription_tier,subscriptionEndDate:t.subscription_end_date?new Date(t.subscription_end_date):null,dailyUsage:{date:new Date().toISOString().split("T")[0],aiRequests:0,promptsUsed:0,scriptsGenerated:0},dailyLimits:{aiRequests:100,promptsUsed:20,scriptsGenerated:5}};r(o)}catch(e){r(null)}finally{n(!1)}},[]);(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("demo_auth"),t=localStorage.getItem("demo_user");if("true"===e&&t)try{let e=JSON.parse(t);r(e),n(!1);return}catch(e){localStorage.removeItem("demo_auth"),localStorage.removeItem("demo_user")}let{data:{session:a}}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.getSession();if(a?.user)try{await m(a.user)}catch(e){}}catch(e){}finally{n(!1)}})();let{data:{subscription:e}}=Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&t?.user)try{await m(t.user),u(!1),c(null)}catch(e){}else"SIGNED_OUT"===e&&(r(null),u(!1),c(null))});return()=>e.unsubscribe()},[m]);let p=(0,s.useCallback)(()=>!!t&&("free"===t.subscriptionType||!t.subscriptionEndDate||new Date<t.subscriptionEndDate),[t]),h=(0,s.useCallback)(()=>{if(!t||!t.subscriptionEndDate)return 0;let e=new Date;return Math.max(0,Math.ceil((t.subscriptionEndDate.getTime()-e.getTime())/864e5))},[t]),b=(0,s.useCallback)(async(e,t)=>{try{let{data:r,error:a}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.signInWithPassword({email:e,password:t});if(a){if(a.message.includes("Email not confirmed"))throw u(!0),c(e),Error("Email not confirmed");if(a.message.includes("Invalid login credentials"))throw Error("Invalid login credentials");throw a}r.user&&(u(!1),c(null),await m(r.user))}catch(e){throw Error(e.message||"Error al iniciar sesi\xf3n")}},[m]),v=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem("demo_auth");if("true"===e){localStorage.removeItem("demo_auth"),localStorage.removeItem("demo_user"),r(null);return}let{error:t}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.signOut();if(t)throw t;r(null)}catch(e){throw Error(e.message||"Error al cerrar sesi\xf3n")}},[]),f=(0,s.useCallback)(async(e,t,r)=>{try{let{data:a,error:s}=await Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(s)throw s;u(!0),c(e),a.user&&a.user.email_confirmed_at&&(await m(a.user),u(!1),c(null))}catch(e){throw Error(e.message||"Error al crear la cuenta")}},[m]),g=(0,s.useCallback)((e,a)=>{t&&(r(t=>{if(!t)return null;let r={...t,subscriptionType:e,subscriptionEndDate:a||null};return Object(function(){var e=Error("Cannot find module './c:UsersprogramarDocumentsGitHub\redcreativaproapplibsupabase'");throw e.code="MODULE_NOT_FOUND",e}()).from("users").update({subscription_tier:e,subscription_status:"free"===e?"free":"active"}).eq("id",t.id).then(({error:e})=>{}),r}),window.dispatchEvent(new CustomEvent("subscriptionUpdated",{detail:{subscriptionType:e,endDate:a}})))},[t]),C=(0,s.useCallback)(()=>{u(!1),c(null)},[]),U=(0,s.useCallback)(e=>{if(!t)return 0;let a=new Date().toISOString().split("T")[0];return t.dailyUsage.date!==a?(r(e=>e?{...e,dailyUsage:{date:a,aiRequests:0,promptsUsed:0,scriptsGenerated:0}}:null),t.dailyLimits[e]):Math.max(0,t.dailyLimits[e]-t.dailyUsage[e])},[t]),y=(0,s.useCallback)(e=>{if(!t)return;let a=new Date().toISOString().split("T")[0];r(t=>t?t.dailyUsage.date!==a?{...t,dailyUsage:{date:a,aiRequests:+("aiRequests"===e),promptsUsed:+("promptsUsed"===e),scriptsGenerated:+("scriptsGenerated"===e)}}:{...t,dailyUsage:{...t.dailyUsage,[e]:t.dailyUsage[e]+1}}:null)},[t]),D=(0,s.useCallback)(e=>{if(!t)return!1;if("free"!==t.subscriptionType)return!0;let r=new Date().toISOString().split("T")[0];return t.dailyUsage.date!==r||t.dailyUsage[e]<t.dailyLimits[e]},[t]);return(0,a.jsx)(o.Provider,{value:{user:t,loading:i,isAuthenticated:!!t,needsEmailVerification:l,pendingVerificationEmail:d,login:b,logout:v,signup:f,hasActiveSubscription:p,getRemainingSubscriptionDays:h,updateSubscriptionStatus:g,clearEmailVerification:C,getRemainingUsage:U,incrementUsage:y,canUseFeature:D},children:e})},n=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},3851:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},3918:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>s});var a=r(2907);let s=(0,a.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\contexts\\AuthContext.tsx","AuthProvider");(0,a.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\contexts\\AuthContext.tsx","useAuth")},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>l});var a=r(7413),s=r(1421),o=r.n(s),i=r(8584),n=r(3918);r(2704);let l={title:"Red Creativa Pro",description:"Plataforma integral para creativos y profesionales",keywords:"creatividad, productividad, blog, recursos, proyectos",authors:[{name:"Red Creativa Pro"}],openGraph:{title:"Red Creativa Pro",description:"Plataforma integral para creativos y profesionales",type:"website",locale:"es_ES"}};function u({children:e}){return(0,a.jsx)("html",{lang:"es",suppressHydrationWarning:!0,children:(0,a.jsx)("body",{className:o().className,children:(0,a.jsx)(i.ThemeProvider,{defaultTheme:"light",children:(0,a.jsx)(n.AuthProvider,{children:e})})})})}},8584:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});var a=r(2907);let s=(0,a.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\ui\\theme-provider.tsx","ThemeProvider");(0,a.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\programar\\Documents\\GitHub\\redcreativapro\\app\\ui\\theme-provider.tsx","useTheme")}};