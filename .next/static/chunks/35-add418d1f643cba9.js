"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{17471:(e,r,a)=>{a.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i,wL:()=>u});var t=a(95155),s=a(12115),o=a(74143);let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});n.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,o.cn)("font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},24328:(e,r,a)=>{async function t(e,r,a,t,s,o,n){if(!a||!r){let e=localStorage.getItem("aiSettings");if(e){let i=JSON.parse(e);r=r||i.provider,a=a||i.apiKey,t=t||i.model,s=null!=s?s:i.temperature,o=null!=o?o:i.maxTokens,n=n||i.baseUrl}}if(!r)throw Error("Se requiere seleccionar un proveedor de IA. Por favor configura tus ajustes de IA en el men\xc3\xba de usuario.");if(!a)throw Error("Se requiere una API key. Por favor configura tus ajustes de IA en el men\xc3\xba de usuario.");if("string"!=typeof a||!a.trim())throw localStorage.removeItem("aiSettings"),Error("API key inv\xc3\xa1lida. Por favor verifica que hayas ingresado una API key v\xc3\xa1lida en los ajustes de usuario.");a=a.trim();try{var i,l,c,d,u,m,p,h,g;switch(r){case"gemini":{let r=t||"gemini-2.0-flash",n=await fetch("https://generativelanguage.googleapis.com/v1beta/models/".concat(r,":generateContent?key=").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}],generationConfig:{temperature:s||.7,maxOutputTokens:o||2048}})});if(!n.ok){let e=await n.json().catch(()=>({error:{message:"Error desconocido"}}));if(401===n.status)throw localStorage.removeItem("aiSettings"),Error("La API key de Google AI Studio no es v\xc3\xa1lida para el modelo ".concat(r,". Por favor, verifica que la API key tenga los permisos necesarios."));throw Error("Error de Gemini: ".concat((null==(m=e.error)?void 0:m.message)||"No se pudo generar el contenido"))}let p=await n.json();if(!(null==(u=p.candidates)||null==(d=u[0])||null==(c=d.content)||null==(l=c.parts)||null==(i=l[0])?void 0:i.text))throw Error("No se recibi\xc3\xb3 una respuesta v\xc3\xa1lida del servicio de IA");return p.candidates[0].content.parts[0].text}case"openai":{let r=t||"gpt-4o",n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({model:r,messages:[{role:"user",content:e}],temperature:s||.7,max_tokens:o||2048})});if(!n.ok){let e=await n.json().catch(()=>({error:{message:"Error desconocido"}}));if(401===n.status)throw localStorage.removeItem("aiSettings"),Error("API key inv\xc3\xa1lida. Por favor verifica tu API key de OpenAI en los ajustes de usuario.");throw Error("Error de OpenAI: ".concat((null==(p=e.error)?void 0:p.message)||"No se pudo generar el contenido"))}return(await n.json()).choices[0].message.content}case"anthropic":{let r=t||"claude-3-5-sonnet-20241022",n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":a,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:r,messages:[{role:"user",content:e}],max_tokens:o||2048,temperature:s||.7})});if(!n.ok){let e=await n.json().catch(()=>({error:{message:"Error desconocido"}}));if(401===n.status)throw localStorage.removeItem("aiSettings"),Error("API key inv\xc3\xa1lida. Por favor verifica tu API key de Anthropic en los ajustes de usuario.");throw Error("Error de Anthropic: ".concat((null==(h=e.error)?void 0:h.message)||"No se pudo generar el contenido"))}return(await n.json()).content[0].text}case"cohere":{let r=t||"command-r-plus",i=n||"https://api.cohere.ai/v1/generate",l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({model:r,prompt:e,max_tokens:o||2048,temperature:s||.7})});if(!l.ok){let e=await l.json().catch(()=>({message:"Error desconocido"}));if(401===l.status)throw localStorage.removeItem("aiSettings"),Error("API key inv\xc3\xa1lida. Por favor verifica tu API key de Cohere en los ajustes de usuario.");throw Error("Error de Cohere: ".concat(e.message||"No se pudo generar el contenido"))}return(await l.json()).generations[0].text}case"mistral":{let r=t||"mistral-large-latest",i=n||"https://api.mistral.ai/v1/chat/completions",l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({model:r,messages:[{role:"user",content:e}],max_tokens:o||2048,temperature:s||.7})});if(!l.ok){let e=await l.json().catch(()=>({error:{message:"Error desconocido"}}));if(401===l.status)throw localStorage.removeItem("aiSettings"),Error("API key inv\xc3\xa1lida. Por favor verifica tu API key de Mistral en los ajustes de usuario.");throw Error("Error de Mistral: ".concat((null==(g=e.error)?void 0:g.message)||"No se pudo generar el contenido"))}return(await l.json()).choices[0].message.content}default:throw Error("Proveedor de IA no soportado")}}catch(e){if(console.error("Error en generateScriptWithAI:",e),e.message.includes("API key"))throw e;throw Error("Error al conectar con el servicio de IA: ".concat(e.message,". Por favor verifica tu API key e int\xc3\xa9ntalo de nuevo."))}}a.d(r,{n:()=>t})},29419:(e,r,a)=>{a.d(r,{g:()=>u});var t=a(95155),s=a(12115),o=a(20125),n=a(56201),i=a(86371),l=a(18949),c=a(91385),d=a(9436);function u(e){let{open:r,onOpenChange:a,onContinue:u}=e,[m,p]=(0,s.useState)("gemini"),[h,g]=(0,s.useState)(""),[f,x]=(0,s.useState)("gemini-2.0-flash"),{toast:v}=(0,d.dj)(),y=async e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),console.log("=== INICIO handleSave ==="),console.log("Provider:",m),console.log("API Key:",h?"".concat(h.substring(0,5),"..."):"vac\xeda"),console.log("API Key length:",h.length),!h||0===h.trim().length){console.log("ERROR: API key vac\xeda"),v({title:"Error",description:"Por favor ingresa una API key",variant:"destructive"});return}let r=h.trim(),t=!1;switch(m){case"gemini":t=r.startsWith("AI")&&r.length>=30;break;case"openai":t=r.startsWith("sk-")&&r.length>=40;break;case"anthropic":t=r.startsWith("sk-ant-")&&r.length>=40}if(!t){console.log("ERROR: API key inv\xe1lida para",m),v({title:"API Key inv\xe1lida",description:"La API key de ".concat(m," no tiene el formato correcto"),variant:"destructive"});return}console.log("Validaci\xf3n exitosa");try{let e={provider:m,apiKey:r,model:"gemini"===m?f:void 0};console.log("Guardando configuraci\xf3n:",e),localStorage.setItem("aiSettings",JSON.stringify(e)),console.log("Configuraci\xf3n guardada exitosamente"),v({title:"\xa1Configuraci\xf3n guardada!",description:"Ya puedes usar el chat de IA"}),setTimeout(()=>{console.log("Cerrando di\xe1logo..."),u(),a(!1)},500)}catch(e){console.error("Error guardando configuraci\xf3n:",e),v({title:"Error",description:"No se pudo guardar la configuraci\xf3n",variant:"destructive"})}console.log("=== FIN handleSave ===")};return(0,t.jsx)(o.lG,{open:r,onOpenChange:a,children:(0,t.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsx)(o.c7,{children:(0,t.jsx)(o.L3,{children:"Configurar Proveedor de IA"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(n.J,{children:"Proveedor de IA"}),(0,t.jsxs)(c.l6,{value:m,onValueChange:e=>p(e),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Selecciona un proveedor"})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"gemini",children:"Google Gemini"}),(0,t.jsx)(c.eb,{value:"openai",children:"OpenAI"}),(0,t.jsx)(c.eb,{value:"anthropic",children:"Anthropic/Claude"})]})]})]}),"gemini"===m&&(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(n.J,{children:"Modelo de Gemini"}),(0,t.jsxs)(c.l6,{value:f,onValueChange:e=>x(e),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Selecciona un modelo"})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash (Recomendado)"}),(0,t.jsx)(c.eb,{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro"}),(0,t.jsx)(c.eb,{value:"gemini-1.5-flash",children:"Gemini 1.5 Flash"}),(0,t.jsx)(c.eb,{value:"gemini-pro",children:"Gemini Pro"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(n.J,{children:"API Key"}),(0,t.jsx)(i.p,{type:"password",value:h,onChange:e=>g(e.target.value),placeholder:"Ingresa tu API key"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:(()=>{switch(m){case"gemini":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Obt\xe9n tu API key de Google AI Studio:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["Ve a ",(0,t.jsx)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Google AI Studio"})]}),(0,t.jsx)("li",{children:"Inicia sesi\xf3n con tu cuenta de Google"}),(0,t.jsx)("li",{children:"Crea una nueva API key o usa una existente"}),(0,t.jsx)("li",{children:"La key debe comenzar con 'AI'"})]})]});case"openai":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Obt\xe9n tu API key del panel de OpenAI:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["Ve a ",(0,t.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"OpenAI Dashboard"})]}),(0,t.jsx)("li",{children:"Crea una nueva API key"}),(0,t.jsx)("li",{children:"La key debe comenzar con 'sk-'"})]})]});case"anthropic":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"Obt\xe9n tu API key del panel de Anthropic:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["Ve a ",(0,t.jsx)("a",{href:"https://console.anthropic.com/account/keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Anthropic Console"})]}),(0,t.jsx)("li",{children:"Crea una nueva API key"}),(0,t.jsx)("li",{children:"La key debe comenzar con 'sk-ant-'"})]})]})}})()})]}),(0,t.jsx)(l.$,{onClick:y,className:"w-full",type:"button",children:"Guardar y Continuar"})]})]})})}},33458:(e,r,a)=>{a.d(r,{A:()=>u});var t=a(95155);a(12115);var s=a(8794),o=a(17471),n=a(44728),i=a(71539),l=a(57434),c=a(29621),d=a(14186);let u=()=>{let{user:e,getRemainingUsage:r}=(0,s.A)();if(!e||"free"!==e.subscriptionType)return null;let a=[{key:"aiRequests",name:"Consultas IA",icon:i.A,color:"text-blue-500"},{key:"promptsUsed",name:"Prompts Usados",icon:l.A,color:"text-green-500"},{key:"scriptsGenerated",name:"Scripts Generados",icon:c.A,color:"text-purple-500"}],u=a=>{let t=e.dailyLimits[a];return(t-r(a))/t*100};return(0,t.jsxs)(o.Zp,{className:"w-full max-w-md",children:[(0,t.jsxs)(o.aR,{className:"pb-3",children:[(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Uso Diario - Plan Gratuito"]}),!(()=>{let r=new Date().toISOString().split("T")[0];return e.dailyUsage.date!==r})()&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Se reinicia en: ",(()=>{let e=new Date,r=new Date(e);r.setDate(r.getDate()+1),r.setHours(0,0,0,0);let a=r.getTime()-e.getTime(),t=Math.floor(a/36e5),s=Math.floor(a%36e5/6e4);return"".concat(t,"h ").concat(s,"m")})()]})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[a.map(a=>{let s=r(a.key),o=e.dailyLimits[a.key],i=u(a.key),l=a.icon;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-4 w-4 ".concat(a.color)}),(0,t.jsx)("span",{className:"text-sm font-medium",children:a.name})]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[o-s,"/",o]})]}),(0,t.jsx)(n.k,{value:i,className:"h-2"}),s<=2&&s>0&&(0,t.jsxs)("p",{className:"text-xs text-yellow-600",children:["⚠️ Te quedan ",s," usos"]}),0===s&&(0,t.jsx)("p",{className:"text-xs text-red-500",children:"L\xedmite alcanzado. Se reinicia ma\xf1ana."})]},a.key)}),(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["\xbfNecesitas m\xe1s?",(0,t.jsx)("a",{href:"/pricing",className:"text-primary hover:underline ml-1",children:"Actualiza a Pro"})]})})]})]})}},44728:(e,r,a)=>{a.d(r,{k:()=>i});var t=a(95155),s=a(12115),o=a(55863),n=a(74143);let i=s.forwardRef((e,r)=>{let{className:a,value:s,...i}=e;return(0,t.jsx)(o.bL,{ref:r,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...i,children:(0,t.jsx)(o.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});i.displayName=o.bL.displayName},71961:(e,r,a)=>{a.d(r,{Xi:()=>c,av:()=>d,j7:()=>l,tU:()=>i});var t=a(95155),s=a(12115),o=a(60704),n=a(74143);let i=o.bL,l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(o.B8,{ref:r,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s})});l.displayName=o.B8.displayName;let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(o.l9,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s})});c.displayName=o.l9.displayName;let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(o.UC,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});d.displayName=o.UC.displayName}}]);